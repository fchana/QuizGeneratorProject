<div class="propCont propCent">
  <div *ngIf="profileJson?.account_type == true; else student">
    <p-table [value]="proposition">
      <ng-template pTemplate="header">
        <tr>
          <th>
            proposition name
          </th>
          <th>
            max score
          </th>
          <th>
            time limit
          </th>
          <th>
            quiz amount
          </th>
          <th>
            start date
          </th>
          <th>
            Panel
          </th>
          <th>
            Status
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-prop let-rowIndex="rowIndex">
        <tr class="tableList">
          <td [routerLink]="['/props/' + rowIndex +  '/quizs']">
            {{ prop.prop_name }}
          </td>
          <td [routerLink]="['/props/' + rowIndex +  '/quizs']">
            {{ prop.max_score }}
          </td>
          <td [routerLink]="['/props/' + rowIndex +  '/quizs']">
            {{ prop.prop_time | timeConvertor}} hours
          </td>
          <td [routerLink]="['/props/' + rowIndex +  '/quizs']">
            {{ prop.quiz_amount }}
          </td>
          <td [routerLink]="['/props/' + rowIndex +  '/quizs']">
            {{ prop.start_date | date :'medium' }}
          </td>
          <td>
            <button style="width: 28%; margin-right: 10px;" pButton type="button" pButton icon="pi pi-eye"
              iconPos="left" [routerLink]="['/props/preview/'+rowIndex]"></button>
            <button style="width: 28%; margin-right: 10px;" pButton type="button" pButton icon="pi pi-pencil"
              iconPos="left" [routerLink]="['/editProp/'+rowIndex]"></button>
            <button style="width: 28%;" type="button" pButton icon="pi pi-trash" iconPos="left"
              (click)="DeleteProp(rowIndex)"></button>
          </td>
          <td>
            <p-inputSwitch (onChange)="Active(rowIndex)" [(ngModel)]="active[rowIndex]"></p-inputSwitch>
          </td>
        </tr>
      </ng-template>
    </p-table>
    <button class="loginBtn" style="width: 100%; margin-top: 20px;" pButton type="button" type="submit"
      label="Create proposition" [routerLink]="['/createProp']"></button>
  </div>

  <!--------------------------------- Student proplist ----------------------------------->
  <ng-template #student>
    <p-table [value]="proposition">
      <ng-template pTemplate="header">
        <tr>
          <th>
            proposition name
          </th>
          <th>
            max score
          </th>
          <th>
            time limit
          </th>
          <th>
            quiz amount
          </th>
          <th>
            start date
          </th>
          <th>
            end date
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-prop let-rowIndex="rowIndex">
        <tr class="tableList" [routerLink]="['/props/' + rowIndex]">
          <td>
            {{ prop.prop_name }}
          </td>
          <td>
            {{ prop.max_score }}
          </td>
          <td>
            {{ prop.prop_time | timeConvertor }} hours
          </td>
          <td>
            {{ prop.quiz_amount }}
          </td>
          <td>
            {{ prop.start_date | date :'medium' }}
          </td>
          <td>
            {{ DateAdder(prop.start_date, prop.prop_time) | date : 'medium' }}
          </td>
        </tr>
      </ng-template>
    </p-table>
  </ng-template>
</div>
<p-confirmDialog [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '50vw'}" header="Confirmation"
icon="pi pi-exclamation-triangle"></p-confirmDialog>

<p-toast></p-toast>